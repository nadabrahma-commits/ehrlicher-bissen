<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ehrlicher Bissen - Live</title>
    <script src="https://cdn.jsdelivr.net"></script>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 20px; background: #fff; }
        #interactive { width: 100%; height: 300px; background: #000; border-radius: 10px; overflow: hidden; margin-bottom: 15px; display: none; }
        <video id="v" autoplay playsinline> </video> { 
    width: 100%; 
    max-width: 500px; 
    height: auto; /* Das ist der wichtigste Hebel! */
    background: #000; 
    border-radius: 8px; 
}
        .btn { width: 100%; max-width: 400px; padding: 20px; background: #2c3e50; color: #fff; border: none; font-weight: bold; cursor: pointer; border-radius: 8px; font-size: 1.1em; }
        #res { margin-top: 20px; padding: 20px; border-radius: 10px; display: none; text-align: left; border: 1px solid #ccc; }
    </style>
</head>
<body>
    <h1>Ehrlicher Bissen</h1>
    <div id="interactive"></div>
    <button id="s-btn" class="btn" onclick="startScanner()">SCANNER STARTEN</button>
    <div id="res"></div>

    <script>
       async function s() {
    const v = document.getElementById('v');
    const btn = document.querySelector('button');
    const qBtn = document.getElementById('q');

    try {
        // Die direkteste Verbindung zum "Auge"
        const stream = await navigator.mediaDevices.getUserMedia({
            video: { 
                facingMode: "environment",
                width: { ideal: 1280 },
                height: { ideal: 720 }
            }
        });
        v.srcObject = stream;
        v.setAttribute("playsinline", true); // Wichtig f√ºr iPhones!
        
        btn.style.display = 'none';
        qBtn.style.display = 'block';
    } catch (e) {
        console.error("Kamera-Fehler:", e);
        alert("Kamera blockiert. Bitte oben links auf das Schloss-Symbol klicken und 'Kamera erlauben' w√§hlen.");
    }
}

function c() {
    const t = document.getElementById('t');
    t.innerText = "Pr√ºfe Plausibilit√§t beim Zoll...";
    t.style.color = "black";

    setTimeout(() => {
        // Hier greift unsere 3-Stufen-Logik (Ehrlichkeit-Sensor)
        const n = Math.random();
        let res, col;
        
        if (n > 0.6) {
            res = "üü¢ GR√úN: Plausibel (Mengenbilanz stimmt)";
            col = "green";
        } else if (n > 0.3) {
            res = "üü° GELB: Unklar (Datenl√ºcke in Lieferkette)";
            col = "orange";
        } else {
            res = "üî¥ ROT: Dissonanz! (Export > Erntekapazit√§t)";
            col = "red";
        }
        
        t.innerText = res;
        t.style.color = col;
    }, 1000);
}

    </script>
</body>
</html>
