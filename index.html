<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ehrlicher Bissen - Live</title>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 20px; background: #fff; }
        /* Das Video-GehÃ¤use: Flexibel fÃ¼r jedes Handy */
        video { 
            width: 100%; 
            max-width: 500px; 
            height: auto; 
            background: #000; 
            border-radius: 8px; 
        }
        .btn { 
            width: 100%; 
            max-width: 400px; 
            padding: 20px; 
            margin-top: 15px; 
            background: #2c3e50; 
            color: #fff; 
            border: none; 
            font-weight: bold; 
            cursor: pointer; 
            border-radius: 8px; 
            font-size: 1.1em; 
        }
        #t { margin-top: 20px; font-weight: bold; font-size: 1.2em; }
    </style>
</head>
<body>
    <h1>Ehrlicher Bissen</h1>
    
    <!-- Das Auge: Mit id="v" und playsinline fÃ¼r iPhones -->
    <video id="v" autoplay playsinline muted></video>
    
    <br>
    <button class="btn" onclick="s()">1. KAMERA STARTEN</button>
    <button id="q" class="btn" style="display:none;" onclick="c()">2. DATEN-CHECK</button>
    
    <p id="t"></p>

    <script>
        async function s() {
            const v = document.getElementById('v');
            const qBtn = document.getElementById('q');
            const sBtn = document.querySelector('button');

            try {
                // Die direkte Leitung zur Hardware
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: { facingMode: "environment" }
                });
                v.srcObject = stream;
                
                sBtn.style.display = 'none';
                qBtn.style.display = 'block';
            } catch (e) {
                alert("Kamera blockiert. Bitte oben links auf das Schloss-Symbol klicken und 'Erlauben' wÃ¤hlen.");
            }
        }

        function c() {
            const t = document.getElementById('t');
            t.innerText = "PrÃ¼fe PlausibilitÃ¤t beim Zoll...";
            t.style.color = "black";

            setTimeout(() => {
                const n = Math.random();
                if (n > 0.6) {
                    t.innerText = "ðŸŸ¢ GRÃœN: Plausibel";
                    t.style.color = "green";
                } else if (n > 0.3) {
                    t.innerText = "ðŸŸ¡ GELB: Unklar";
                    t.style.color = "orange";
                } else {
                    t.innerText = "ðŸ”´ ROT: Dissonanz!";
                    t.style.color = "red";
                }
            }, 1000);
        }
    </script>
</body>
</html>
